{"ast":null,"code":"import { switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/http.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../../services/add.service\";\nimport * as i5 from \"@angular/forms\";\n\nfunction BookDetailsComponent_div_0_option_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r3.username);\n  }\n}\n\nfunction BookDetailsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelement(2, \"img\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 4);\n    i0.ɵɵelementStart(4, \"tbody\");\n    i0.ɵɵelementStart(5, \"tr\");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"tr\");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12, \"Author\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"tr\");\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17, \"ISBN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function BookDetailsComponent_div_0_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.goToBooks();\n    });\n    i0.ɵɵtext(21, \"Back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function BookDetailsComponent_div_0_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const book_r1 = restoredCtx.ngIf;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.addToUser(book_r1);\n    });\n    i0.ɵɵtext(23, \"Wypo\\u017Cycz\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 6);\n    i0.ɵɵelementStart(25, \"select\", 7);\n    i0.ɵɵtemplate(26, BookDetailsComponent_div_0_option_26_Template, 2, 1, \"option\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", book_r1.poster, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(book_r1.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(book_r1.author);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(book_r1.ISBN);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.users);\n  }\n}\n\nexport class BookDetailsComponent {\n  constructor(http, route, router, location, add) {\n    this.http = http;\n    this.route = route;\n    this.router = router;\n    this.location = location;\n    this.add = add;\n  }\n\n  ngOnInit() {\n    this.bookDetails = this.route.paramMap.pipe(switchMap(params => this.http.getBook(params.get('id')))); // @ts-ignore\n\n    this.http.get('http://localhost:3000/users').subscribe(result => {\n      this.users = result;\n    });\n  }\n\n  goToBooks() {\n    this.location.back();\n  }\n\n  addToUser(book) {\n    this.add.addToList(book);\n    return this.location.back();\n  }\n\n}\n\nBookDetailsComponent.ɵfac = function BookDetailsComponent_Factory(t) {\n  return new (t || BookDetailsComponent)(i0.ɵɵdirectiveInject(i1.HttpService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i4.AddService));\n};\n\nBookDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookDetailsComponent,\n  selectors: [[\"app-book-details\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[\"class\", \"row\", 4, \"ngIf\"], [1, \"row\"], [1, \"col\", \"s4\"], [3, \"src\"], [1, \"col\", \"s8\"], [1, \"btn\", \"black\", 3, \"click\"], [1, \"collection\"], [1, \"browser-default\"], [\"class\", \"collection-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"collection-item\"]],\n  template: function BookDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, BookDetailsComponent_div_0_Template, 27, 5, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.bookDetails));\n    }\n  },\n  directives: [i3.NgIf, i3.NgForOf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption],\n  pipes: [i3.AsyncPipe],\n  styles: [\"img[_ngcontent-%COMP%] {\\n    width: 234px;\\n    height: 348px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb2stZGV0YWlscy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7QUFDakIiLCJmaWxlIjoiYm9vay1kZXRhaWxzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpbWcge1xuICAgIHdpZHRoOiAyMzRweDtcbiAgICBoZWlnaHQ6IDM0OHB4O1xufVxuIl19 */\"]\n});","map":{"version":3,"sources":["/home/filipbianga/Dokumenty/Angular/PJATK-Projekt/biblioteka-angular/src/app/pages/books/book-details/book-details.component.ts","/home/filipbianga/Dokumenty/Angular/PJATK-Projekt/biblioteka-angular/src/app/pages/books/book-details/book-details.component.html"],"names":[],"mappings":"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","sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\nimport {Observable} from \"rxjs\";\nimport {Book} from \"../../../models/book\";\nimport { HttpService } from '../../../services/http.service';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { switchMap } from 'rxjs/operators';\nimport { Location } from '@angular/common';\nimport {AddService} from \"../../../services/add.service\";\nimport {Users} from \"../../../models/users\";\n\n@Component({\n  selector: 'app-book-details',\n  templateUrl: './book-details.component.html',\n  styleUrls: ['./book-details.component.css']\n})\nexport class BookDetailsComponent implements OnInit {\n  bookDetails!: Observable<Book>;\n  users!:Users[];\n\n  constructor(\n    private http: HttpService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private location: Location,\n    private add: AddService\n  ) {}\n\n  ngOnInit() {\n    this.bookDetails = this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => this.http.getBook(params.get('id')))\n    );\n    // @ts-ignore\n    this.http.get('http://localhost:3000/users').subscribe((result: Users[]) =>{\n      this.users = result;\n    });\n  }\n\n  goToBooks() {\n    this.location.back();\n  }\n\n  addToUser(book: Book){\n    this.add.addToList(book);\n    return this.location.back();\n  }\n}\n","<div class=\"row\" *ngIf=\"bookDetails | async as book\">\n  <div class=\"col s4\"><img [src]=\"book.poster\" /></div>\n  <table class=\"col s8\">\n    <tbody>\n    <tr>\n      <td>Title</td>\n      <td>{{ book.title }}</td>\n    </tr>\n    <tr>\n      <td>Author</td>\n      <td>{{ book.author }}</td>\n    </tr>\n    <tr>\n      <td>ISBN</td>\n      <td>{{ book.ISBN }}</td>\n    </tr>\n    </tbody>\n  </table>\n  <button class=\"btn black\" (click)=\"goToBooks()\">Back</button>\n  <button class=\"btn black\" (click)=\"addToUser(book)\">Wypożycz</button>\n\n  <div class=\"collection\">\n    <select class=\"browser-default\">\n      <option class=\"collection-item\"  *ngFor=\"let user of users\">{{user.username}}</option>\n    </select>\n  </div>\n</div>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}